enum IssueStatus {
  OPEN
  CLOSED
  IN_PROGRESS
}

type Issue @key(fields: "id") {
  id: ID!
  number: Int!
  title: String!
  description: String
  status: IssueStatus!
  createdAt: String!
  repositoryId: ID!
}

input CreateIssueInput {
  title: String!
  description: String
}

input UpdateIssueInput {
  title: String
  description: String
  status: IssueStatus
}

extend type Query {
  getIssuesForRepository(repositoryId: ID!): [Issue!]!
  getIssue(repositoryId: ID!, issueNumber: Int!): Issue
}

extend type Mutation {
  createIssue(repositoryId: ID!, input: CreateIssueInput!): Issue!
  updateIssue(repositoryId: ID!, issueNumber: Int!, input: UpdateIssueInput!): Issue
}
